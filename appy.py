import streamlit as st

st.set_page_config(page_title="üìò Manual LaTeX", page_icon="üìò", layout="wide")
st.markdown("""<style>.title { color: #3366cc; text-align: center; } .footer { text-align: center; font-size: 12px; margin-top: 2em; }</style>""", unsafe_allow_html=True)

secciones = [
    "‚ø° ¬øQu√© es LaTeX?",
    "‚ø° ¬øC√≥mo empezar a usar LaTeX?",
    "‚ø¢ Estructura del Texto",
    "‚ø£ Bibliograf√≠a y Citas",
    "‚ø§ Formato b√°sico y listas",
    "‚ø• F√≥rmulas matem√°ticas",
    "‚ø¶ Dise√±o de p√°gina",
    "‚øß Gr√°ficos y Diagramas"
]

if "page" not in st.session_state:
    st.session_state.page = 0

with st.sidebar:
    st.title("üìö Secciones")
    seleccion = st.radio("", secciones, index=st.session_state.page)
    st.session_state.page = secciones.index(seleccion)

page = st.session_state.page
st.markdown(f"<h1 class='title'>{secciones[page]}</h1>", unsafe_allow_html=True)

if page == 0:
    st.write(r"""
LaTeX es un sistema de preparaci√≥n de documentos, muy utilizado en el √°mbito cient√≠fico, acad√©mico y t√©cnico.  
Permite escribir textos estructurados, con excelente tipograf√≠a, matem√°ticas, tablas, bibliograf√≠a y mucho m√°s.

A diferencia de los editores de texto tipo Word, LaTeX trabaja como un lenguaje de programaci√≥n: escribes "c√≥digo" que describe tu documento.

### ‚úÖ Ventajas:
- Calidad profesional de impresi√≥n.
- Manejo avanzado de ecuaciones matem√°ticas.
- Control total sobre la estructura del documento.
- Perfecto para tesis, art√≠culos, informes t√©cnicos y libros.
""")
    st.image("https://upload.wikimedia.org/wikipedia/commons/9/92/LaTeX_logo.svg", width=200)

elif page == 1:
    st.write(r"""
### ¬øC√≥mo empezar a usar LaTeX?

#### 1. LaTeX en l√≠nea
Puedes comenzar f√°cilmente usando Overleaf:  
- No requiere instalaci√≥n.  
- Compilaci√≥n autom√°tica y r√°pida.  
- Ideal para trabajo colaborativo.  
üîó https://www.overleaf.com

#### 2. Instalar LaTeX localmente
- TeX Live (Windows/Linux/Mac)  
- MikTeX (Windows)  
Editores recomendados:
- TeXstudio, TeXmaker, VS Code + LaTeX Workshop

""")

elif page == 2:
    st.title("‚ø¢ Estructura del Texto en LaTeX üìú")

    st.markdown("""
    Esta secci√≥n explica c√≥mo organizar un documento en LaTeX, desde la declaraci√≥n inicial hasta la divisi√≥n del contenido.  
    Es la base para crear cualquier archivo bien estructurado.
    """)

    st.header("Clase de Documento (\\documentclass)")
    st.markdown("""
    Este comando es obligatorio y define el tipo de documento que vas a crear.  
    Esto afecta m√°rgenes, tama√±o de fuente y qu√© comandos est√°n disponibles.

    Clases comunes:
    - article: Para documentos cortos como art√≠culos, ensayos o tareas.
    - report: Para documentos largos con cap√≠tulos (como tesis o informes).
    - book: Dise√±ado para libros (soporta impresi√≥n a doble cara).
    - beamer: Para presentaciones en diapositivas.
    - letter: Para cartas formales.

    Puedes pasarle opciones para personalizar:
    """)
    st.code(r"""
% Un art√≠culo con letra 12pt, papel A4 y a dos columnas
\documentclass[12pt, a4paper, twocolumn]{article}
    """, language='latex')

    st.header("Pre√°mbulo y Cuerpo del Documento")
    st.markdown("""
    Un documento LaTeX se divide en dos partes principales:

    1. Pre√°mbulo: Desde \\documentclass hasta \\begin{document}. Aqu√≠ cargas paquetes, defines el t√≠tulo, autor, fecha, etc.
    2. Cuerpo: Entre \\begin{document} y \\end{document}. Aqu√≠ va todo el contenido visible.
    """)

    st.code(r"""
\documentclass{article}

% --- INICIO DEL PRE√ÅMBULO ---
\usepackage[utf8]{inputenc} % Permite escribir tildes y √±
\title{Un Documento de Ejemplo}
\author{Mi Nombre}
\date{\today} % Fecha autom√°tica
% --- FIN DEL PRE√ÅMBULO ---

\begin{document}

\maketitle % Genera el t√≠tulo
\tableofcontents % Opcional: genera la tabla de contenido

\section{Introducci√≥n}
Aqu√≠ comienza el contenido del documento.

\end{document}
    """, language='latex')

    st.header("Secciones y Jerarqu√≠a")
    st.markdown("""
    Para organizar tu texto, usa comandos de seccionamiento. LaTeX los usa para numerar y generar √≠ndices autom√°ticamente.

    Jerarqu√≠a:
    - \\part{...}
    - \\chapter{...} (solo en book y report)
    - \\section{...}
    - \\subsection{...}
    - \\subsubsection{...}
    - \\paragraph{...}
    - \\subparagraph{...}

    Puedes usar * (como en \\section*{...}) para crear secciones sin numerar.
    """)

    st.header("P√°rrafos, Saltos de L√≠nea y Comentarios")
    st.markdown("""
    - P√°rrafos: Se separan dejando una l√≠nea en blanco entre bloques de texto.
    - Saltos de l√≠nea: Usa \\\\ si necesitas un salto de l√≠nea sin comenzar un nuevo p√°rrafo (¬°no abuses!).
    - Comentarios: Cualquier texto despu√©s de % no se compila. √ötil para dejar notas.
    """)
# P√°gina: Bibliograf√≠a y Citas
elif page == 3:
    st.title("‚ø£ Bibliograf√≠a y Citas en LaTeX üìö")

    st.markdown("""
Una de las grandes ventajas de LaTeX es su capacidad para gestionar referencias de manera profesional.  
Puedes crear bibliograf√≠as manualmente o automatizarlas con herramientas como BibTeX o BibLaTeX.

---
""")

    st.header("üìé M√©todo Manual: thebibliography")
    st.markdown("""
Ideal para documentos peque√±os o tareas simples.  
La bibliograf√≠a se incluye directamente en el archivo .tex, sin necesidad de un archivo externo.

### ‚úç Ejemplo b√°sico:
    """)
    st.code(r"""
\begin{thebibliography}{9}
\bibitem{lamport94}
Leslie Lamport, \textit{LaTeX: A Document Preparation System}, Addison-Wesley, 1994.
\end{thebibliography}
    """, language="latex")

    st.markdown("Y para citar en el texto:")
    st.code(r"""
Como se indica en \cite{lamport94}...
    """, language="latex")

    st.header("üìÇ M√©todo Autom√°tico: BibTeX")
    st.markdown("""
Ideal para trabajos largos o acad√©micos.  
BibTeX permite mantener tus referencias en un archivo externo .bib.

### ‚ø° Archivo referencias.bib:
    """)
    st.code(r"""
@article{einstein1905,
  author  = {Albert Einstein},
  title   = {Zur Elektrodynamik bewegter K√∂rper},
  journal = {Annalen der Physik},
  year    = {1905},
  volume  = {322},
  pages   = {891--921}
}
    """, language="bibtex")

    st.markdown("### ‚ø¢ Enlazar bibliograf√≠a en tu archivo .tex:")
    st.code(r"""
Cito a Einstein \cite{einstein1905}.

\bibliographystyle{plain}
\bibliography{referencias}
    """, language="latex")

    st.warning("""
üîÅ Para que funcione correctamente, debes compilar en este orden:
pdflatex ‚û° bibtex ‚û° pdflatex ‚û° pdflatex  
(Overleaf y otros editores modernos lo hacen autom√°ticamente).
""")

    st.header("‚ú® Alternativa Moderna: BibLaTeX")
    st.markdown("""
BibLaTeX es m√°s moderno y flexible que BibTeX.  
Ofrece mejor manejo de idiomas, UTF-8 y estilos personalizables.

### üìÑ Ejemplo completo:
    """)
    st.code(r"""
\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[backend=biber, style=numeric]{biblatex}
\addbibresource{referencias.bib}

\begin{document}

Cito a Einstein \cite{einstein1905}.

\printbibliography

\end{document}
    """, language="latex")

    st.info("""
‚úÖ BibLaTeX se compila con biber, no con bibtex.  
Es ideal para proyectos modernos, con m√∫ltiples estilos de cita.
""")

    st.markdown("---")
    st.text_area("‚úè Inserta tu propia entrada BibTeX:", value=r"""
@book{knuth1984,
  author    = {Donald E. Knuth},
  title     = {The TeXbook},
  year      = {1984},
  publisher = {Addison-Wesley}
}
    """)
elif page == 4:
    st.title("‚ø§ Listas en LaTeX üìù")

    st.markdown("""
LaTeX permite crear listas de manera muy estructurada. Puedes usar listas con vi√±etas, listas numeradas e incluso listas anidadas, todo con comandos sencillos.

---
""")

    st.header("üîπ Listas con Vi√±etas (itemize)")
    st.markdown("""
Usa el entorno itemize para crear listas sin numeraci√≥n.  
Cada √≠tem comienza con \\item.
    """)

    st.code(r"""
\begin{itemize}
  \item Primer elemento
  \item Segundo elemento
  \item Tercer elemento
\end{itemize}
    """, language="latex")

    st.header("üî¢ Listas Numeradas (enumerate)")
    st.markdown("""
El entorno enumerate se usa para listas ordenadas (numeradas autom√°ticamente).
    """)

    st.code(r"""
\begin{enumerate}
  \item Paso uno
  \item Paso dos
  \item Paso tres
\end{enumerate}
    """, language="latex")

    st.header("üîÅ Listas Anidadas")
    st.markdown("""
Puedes anidar listas dentro de otras listas combinando itemize y enumerate.  
Aseg√∫rate de que la indentaci√≥n sea clara para evitar errores.
    """)

    st.code(r"""
\begin{itemize}
  \item Frutas:
    \begin{enumerate}
      \item Manzana
      \item Naranja
      \item Pera
    \end{enumerate}
  \item Verduras
\end{itemize}
    """, language="latex")

    st.info("""
üí° Consejo: Puedes usar el paquete enumitem para personalizar la apariencia de las listas (s√≠mbolos, numeraci√≥n, espacio, etc.).
    """)

    st.markdown("---")
    st.text_area("‚úè Escribe tu propia lista en LaTeX:", value=r"""
\begin{enumerate}
  \item Introducci√≥n
  \item Desarrollo
  \item Conclusi√≥n
\end{enumerate}
    """)
elif page == 5:
    st.title("‚ø• F√≥rmulas Matem√°ticas en LaTeX üßÆ")

    st.markdown("""
LaTeX es ampliamente conocido por su potencia para escribir expresiones matem√°ticas con precisi√≥n y claridad.  
Puedes insertar f√≥rmulas en l√≠nea o en modo display centrado.

---    
""")

    st.header("üìå Modos de escritura")
    st.markdown("""
- Modo en l√≠nea: $ ... $  
  Ejemplo: El √°rea es $A = \pi r^2$  
- Modo display (centrado): \\[ ... \\] o st.latex(...)  
  Ideal para f√≥rmulas grandes.
    """)

    st.subheader("üîç Ejemplo (modo display)")
    st.latex(r"""\frac{a}{b + \sqrt{x^2 + y^2}}""")

    st.header("üî£ Operadores y estructuras b√°sicas")
    st.latex(r"x^2,\quad x_1,\quad \frac{a}{b},\quad \sqrt[n]{x},\quad \cdot,\quad \times,\quad \div,\quad \pm,\quad \leq,\quad \geq,\quad \neq,\quad \approx,\quad \sim")

    st.header("üìê S√≠mbolos y funciones comunes")
    st.latex(r"\infty,\quad \pi,\quad \theta,\quad \alpha,\quad \sum_{i=1}^{n},\quad \prod_{i=1}^{n},\quad \int_a^b,\quad \lim_{x \to 0},\quad \log,\quad \ln,\quad \exp")

    st.header("üßÆ Matrices, sistemas y alineaci√≥n")
    st.markdown("Matrices:")
    st.latex(r"""\begin{bmatrix}
1 & 2 \\
3 & 4
\end{bmatrix}""")

    st.markdown("*Sistema de ecuaciones con align (requiere amsmath):")
    st.latex(r"""\begin{align*}
a + b &= c \\
x - y &= 2
\end{align*}""")

    st.header("üîó Relaciones y conjuntos")
    st.latex(r"\in,\quad \notin,\quad \subset,\quad \supset,\quad \cup,\quad \cap,\quad \mathbb{R},\quad \forall,\quad \exists")

    st.header("üí° Otros √∫tiles")
    st.latex(r"\text{Texto dentro de ecuaci√≥n},\quad \overline{x},\quad \vec{v},\quad \dots,\quad \cdots")

    st.markdown("---")
    st.subheader("‚úè Escribe tu propia f√≥rmula LaTeX:")
    formula = st.text_area("Ingresa tu f√≥rmula:", value=r"\int_0^1 x^2 \, dx")
    st.markdown("#### üëÅ Vista previa:")
    st.latex(formula)
    st.divider()  # ‚úÖ indentaci√≥n corregida

    st.subheader("üìã Tabla de comandos comunes en LaTeX")

    st.markdown("""
| Comando | Resultado | Significado |
|---------|-----------|-------------|
| \\frac{a}{b} | $\\frac{a}{b}$ | Fracci√≥n |
| a^2 | $a^2$ | Potencia |
| x_1 | $x_1$ | Sub√≠ndice |
| \\sqrt{x} | $\\sqrt{x}$ | Ra√≠z cuadrada |
| \\sqrt[3]{x} | $\\sqrt[3]{x}$ | Ra√≠z c√∫bica |
| \\cdot | $\\cdot$ | Producto punto |
| \\times | $\\times$ | Multiplicaci√≥n |
| \\div | $\\div$ | Divisi√≥n |
| \\pm | $\\pm$ | M√°s/menos |
| \\leq | $\\leq$ | Menor o igual |
| \\geq | $\\geq$ | Mayor o igual |
| \\neq | $\\neq$ | Distinto |
| \\infty | $\\infty$ | Infinito |
| \\sum_{i=1}^n | $\\sum_{i=1}^n$ | Sumatoria |
| \\int_a^b | $\\int_a^b$ | Integral |
| \\lim_{x \\to 0} | $\\lim_{x \\to 0}$ | L√≠mite |
| \\vec{v} | $\\vec{v}$ | Vector |
| \\overline{a} | $\\overline{a}$ | L√≠nea superior |
| \\text{texto} | $\\text{texto}$ | Texto dentro de f√≥rmula |
| \\mathbb{R} | $\\mathbb{R}$ | Conjunto ‚Ñù |
| \\forall, \\exists | $\\forall$, $\\exists$ | Cuantificadores |
| \\cup, \\cap | $\\cup$, $\\cap$ | Uni√≥n e intersecci√≥n |
""", unsafe_allow_html=True)
elif page == 6:
    st.title("Dise√±o de P√°gina y M√°rgenes")

    st.write("""
    En LaTeX, el dise√±o de p√°gina y los m√°rgenes se pueden personalizar f√°cilmente con el paquete geometry.
    Este paquete te permite definir el tama√±o del papel y los m√°rgenes superior, inferior, izquierdo y derecho.

    ### Personalizar m√°rgenes con el paquete geometry

    latex
    \\usepackage[a4paper, left=2.5cm, right=3.5cm, top=45mm, bottom=20mm]{geometry}
    

    Explicaci√≥n de los par√°metros:
    - a4paper: define el tama√±o del papel.
    - left=2.5cm: margen izquierdo de 2.5 cm.
    - right=3.5cm: margen derecho de 3.5 cm.
    - top=45mm: margen superior de 4.5 cm.
    - bottom=20mm: margen inferior de 2 cm.

    Puedes ajustar estos valores seg√∫n el formato que exija tu universidad, revista o instituci√≥n.

    ---

    ### Encabezados y pies de p√°gina con fancyhdr

    Para personalizar encabezados y pies de p√°gina, se utiliza el paquete fancyhdr. Este permite colocar textos diferentes en la parte izquierda, central y derecha de cada p√°gina, tanto en la parte superior como inferior.

    latex
    \\usepackage{fancyhdr}
    \\pagestyle{fancy}

    % Encabezado
    \\fancyhead[L]{Nombre del autor}
    \\fancyhead[C]{T√≠tulo del documento}
    \\fancyhead[R]{\\thepage}  % N√∫mero de p√°gina

    % Pie de p√°gina (opcional)
    \\fancyfoot[L]{Facultad de Ciencias}
    \\fancyfoot[C]{}
    \\fancyfoot[R]{\\today}  % Fecha
    

    Consejos:
    - Puedes borrar los contenidos predeterminados con \\fancyhead{} o \\fancyfoot{} si deseas empezar desde cero.
    - Si quieres encabezados/pies diferentes entre p√°ginas pares e impares (como en un libro), puedes usar la opci√≥n \\documentclass[twoside]{article} y configurar cada lado con \\fancyhead[LO]{...} y \\fancyhead[RE]{...}.

    ---

    Estas herramientas son muy √∫tiles para dar un estilo profesional y organizado a tus documentos. ¬°Personaliza el dise√±o como m√°s te convenga!
    """)
elif page == 7:
    st.title("Gr√°ficos y Diagramas en LaTeX")

    st.write("""
    En LaTeX, puedes crear gr√°ficos vectoriales y diagramas directamente dentro del documento utilizando los paquetes TikZ y PGFPlots. Estos paquetes son muy potentes y permiten generar desde simples vectores hasta gr√°ficos matem√°ticos avanzados.

    ---

    ### üñä TikZ ‚Äî Dibujos vectoriales

    TikZ (que significa "TikZ ist kein Zeichenprogramm", en alem√°n: "TikZ no es un programa de dibujo") es un paquete para crear figuras geom√©tricas, diagramas, flujos, vectores y m√°s, directamente en LaTeX.

    #### Ejemplo b√°sico:

    latex
    \\usepackage{tikz}

    \\begin{tikzpicture}
      \\draw[->] (0,0) -- (2,0);           % Eje X
      \\draw[->] (0,0) -- (0,2);           % Eje Y
      \\node at (2.2,0) {$x$};             % Etiqueta eje X
      \\node at (0,2.2) {$y$};             % Etiqueta eje Y
      \\draw[blue, thick] (0,0) -- (1,1);  % Vector en azul
    \\end{tikzpicture}
    

    ¬øQu√© hace este c√≥digo?
    - Dibuja dos ejes con flechas.
    - A√±ade etiquetas $x$ y $y$ en sus extremos.
    - Traza un vector desde el origen hasta el punto (1,1) en color azul y l√≠nea gruesa.

    Puedes usar TikZ para diagramas de f√≠sica, geometr√≠a, √°rboles, redes el√©ctricas, etc.

    ---

    ### üìä PGFPlots ‚Äî Gr√°ficas cient√≠ficas

    El paquete PGFPlots se construye sobre TikZ, y est√° pensado para crear gr√°ficos de funciones matem√°ticas o datos experimentales. Es ideal para ciencias como f√≠sica, matem√°ticas, econom√≠a y m√°s.

    #### Ejemplo de gr√°fica:

    latex
    \\usepackage{pgfplots}

    \\begin{tikzpicture}
      \\begin{axis}[
          axis lines = left,
          xlabel = $x$,
          ylabel = {$f(x)$},
      ]
        \\addplot [
          domain=0:4,
          samples=100,
          color=red
        ]{x^2};
      \\end{axis}
    \\end{tikzpicture}
    

    ¬øQu√© hace este c√≥digo?
    - Configura un sistema de ejes con etiquetas.
    - Grafica la funci√≥n $f(x) = x^2$ en rojo entre 0 y 4, usando 100 muestras para mayor suavidad.

    ---

    ### ‚úÖ Recomendaciones
    - Para usar estos paquetes en Overleaf, no necesitas instalar nada.
    - En editores locales, aseg√∫rate de compilar con PDFLaTeX o LuaLaTeX (no con compilers simples como latex).
    - Puedes combinar TikZ con otros paquetes como circuitikz, tikz-cd o pgfplots para m√°s funcionalidades.
    - PGFPlots tambi√©n permite importar datos desde archivos .csv.

    Estas herramientas son poderosas para crear visualizaciones profesionales dentro de tus documentos LaTeX, sin depender de editores gr√°ficos externos.
    """)
cols = st.columns([1, 2, 1])
with cols[0]:
    if st.button("‚¨Ö Anterior") and st.session_state.page > 0:
        st.session_state.page -= 1
with cols[2]:
    if st.button("Siguiente ‚û°") and st.session_state.page < len(secciones) - 1:
        st.session_state.page += 1

st.markdown("""
<div class='footer'>
    Creado con ‚ù§ por:<br>
    Gabriel Hurtado ¬∑ Samuel Choles ¬∑ Juli√°n Salazar ¬∑ Camila Rodr√≠guez
</div>
""", unsafe_allow_html=True)